---
permalink: "/"
layout: layout.liquid

renderData:
    title: "Portfolio"

---

<div class="columns is-multiline"> 
    {%- for portfolio-item in contentful-photos -%}
    <div class="column is-one-third ">
        <div class="box">
            <p class="title is-4 has-text-dark">{{portfolio-item.itemTitle}}</p>
            <a href="{{portfolio-item.slug}}">
                <div class="image is-3by2">
                    <img src="https:{{portfolio-item.thumbnail.fields.file.url}}?w=400&fm=jpg&fl=progressive&q=80&fit=fill&f=faces" alt="Photo from {{ portfolio-item.itemTitle }}" loading="lazy">
                </div>
            </a>
        </div>
    </div>
    {%- endfor -%}
</div>

<script>
var request = new XMLHttpRequest();
request.open('GET', 'https://api.instagram.com/v1/users/self/media/recent/?access_token=499798435419671|269f05320f36c1fdaee704e38565b2d5&count=8', true);
request.onload = function(container) {
    if (request.status >= 200 && request.status < 400) {
        // Success!
        var data = JSON.parse(request.responseText);
        for (var i=0;i < data.data.length;i++) {
            var container = document.getElementById('insta-feed');
            var imgURL = data.data[i].images.standard_resolution.url;
            console.log(imgURL);
            var div = document.createElement('div');
            div.setAttribute('class','instapic');
            container.appendChild(div);
            var img = document.createElement('img');
            img.setAttribute('src',imgURL)
            div.appendChild(img);
        }
        console.log(data);
    } else { }
};
request.onerror = function() {
    //There was a connection error of some sort
};
request.send();
</script>
<div id="insta-feed"></div>
